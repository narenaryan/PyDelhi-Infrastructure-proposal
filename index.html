<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>PyCon 2016</title>

		<link rel="icon" type="image/png" href="img/india.png">
		<meta name="description" content="A PyDelhi conf talk slides">
		<meta name="author" content="Nare Arya">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">
		<link href="css/font-awesome.css" rel="stylesheet">


		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1 style="color:aqua">Scaling Django to the Sky <i class="fa fa-cog fa-spin"></i></h1>
					<h3>How small decisions can make a big difference</h3>
					<p>
						<small>!# Created by = <a href="http://narenarya.in" target="_blank">Naren Arya</a>; Social =<a href="http://twitter.com/Narenarya3" target="_blank">@Narenarya3</a></small>
					</p>
				</section>

				<section>
					<h2> <i class="fa fa-usd"></i> WHOAMI</h2>
					<p>
					I am a 

					<ul>
 					<li>
 					Python & JavaScript programmer
					<li>
 					Linux & Books lover
 					</li>

					<li>
 					DevOps Engineer by profession
 					</li>

					<li>
 					Blogging & Chess are favorite hobbies
					</li>
					</ul>
					</p>
				<h2>
<i class="fa fa-terminal fa-4x"></i></h2></li>
				</section>

				<section>
					<h1 style="color:indianred">PART-1</h1>  
					<h2> <i class="fa fa-code fa-2x"></i>
Design Optimization <br /> + <br /> <i class="fa fa-object-group fa-2x"></i> Stack Optimization <br />


 == <br /><i class="fa fa-rocket fa-2x"></i>
Speed</h2>
				</section>
				
				<section>
					<h2 style="color:pink">Thumb rule of MVC</h2>
					<img src="img/trains.jpg" height="60%" width="45%"/>
					<p>
						In most cases web application wastes it's time in interacting with database. So Database is the slowest part of any web framework. 
					</p>
				</section>
				<section>
					
					<h2 style="color:aqua">Evil side of Django ORM</h2>
					<p>
						<span style="color:yellow">Myth</span>:  Django ORM is dead easy to use in a web application
					</p>
					<p>
						<span style="color:red">Truth</span>:  Django ORM can make a web application dead slow
					</p>
				</section>
				<section>
				<h2 style="color:orange">Tips for code optimization</h2>
					<p>
					The techniques those can reduce the DB hits siginificantly:
					<ul>
					<li>Advanced ORM implementations</li>
					<li>Query caching</li>
					<li>Django template caching</li>
					<li>Non-blocking code</li>
					<li>Alternate data stores</li>
					</ul>
					</p>
				</section>
				<section class="slide">
				<h1 style="color:aqua"> ORM factors</h1>
				<h2> Cached Properties</h2>
				<p>
				Use cached proerty to avoid multiple db queries
				<img src="img/cached.png" height="80%" width="85%"/>
				</p>
				</section>

				<section class="slide">
				<h2> Prefetch and Select related</h2>
				In a single query we can fetch the related objects.Don't make multiple queries for every thing.
				<p>
				<img src="img/prefetch.png" height="90%" width="95%"/>
				</p>
				</section>


				<section class="slide">
				<h2> How easily one can add a bottleneck to Django</h2>
				A novice developer's simple mistake at 20 places can cost you more servers
				<p>
				<img src="img/blunder.png" height="70%" width="75%"/>
				</p>
				</section>

				<section>
					<section id="fragments">
						<h2 style="color:pink">Mistakes! Mistakes!</h2>
						<p>We all are doing basic mistakes</p> like
						<p class="fragment">... bad design ...</p>
						<p><span class="fragment">... writing inefficient code</span> 
						<p><span class="fragment"> not analyzing latest documentation...</span>
						</p>
						Which can have greater performance bottlenecks
					</section>
				</section>

				<section class="slide">
				<h1 style="color:yellow"> Other factors</h1>
				<p>
				<h2> /<Non-blocking code>/</h2>	
				<ul>
				<li>
				Non Blocking Django Code
				<ul>
				  <li> Use Queue and Job systems </li>
				  <li> Spawn non-blocking IO from Django </li>
				  </ul>
				 </li>
				 <li>
				Caching internal components
				<ul>
				  <li> Query Caching </li>
				  <li> Template Caching </li>
				  </ul>
				 </li>
				</ul>
				</p>
				</section>
				
				<section class="slide">
					<h2> Options for Non-blocking code</h2>
					<p>
					<img src="img/futures.jpg" height="40%" width="45%"/>
					<ol>
					<li> RabbitMQ + Celery</li>
					<li> asyncio (Python 3) || future-requests (python 2.7+)</li>
					</ol></p>
				</section>


				<section class="slide">
					<h2> Options for query caching</h2>
					<p>
					<img src="img/querycache.png" height="80%" width="75%"/>
					<ul>
					<li> <i> <a href="https://github.com/django-cache-machine/django-cache-machine" target="_blank">Cache-Machine</a></i> by Tobias McNulty</li>
					<li> <i><a href="https://github.com/jmoiron/johnny-cache" target="_blank">Johnny-Cache</a></i> by Jason Moiron</li>
					</ul></p>
				</section>

				<section class="slide">
					<h2> Options for template caching</h2>
					<p>
					<img src="img/templatecache.png" height="70%" width="55%"/>
					<ul>
					<li> <i> Must use Django template caching</i></li>
					<li> <i>Cache-Machine provide support for Jinja2 templating</i> </li>
					</ul></p>
				</section>


				<section class="slide">
				<h1 style="color:indianred">PART-2</h1> 
					<h2> Stack Optimization</h2>
					<p>
					<blockquote style="font-family:Consolas" cite="http://searchservervirtualization.techtarget.com/definition/Our-Favorite-Technology-Quotations">
						&ldquo;If you are going to kick a tiger in the ass, youâ€™d better have a plan to deal with the teeth&rdquo;
						- Tom clancy
					</blockquote>
					</p>
				</section>


				<section class="slide">
					<h2 style="color:orange"> An Ideal stack</h2>
					<p>
					<img src="img/webstack.png" height="50%" width="45%"/>
					</p>
				</section>



				<section class="slide">
					<h2> Essential components</h2>
					<p>
					<ul>
					<li> Load balancers</li>
					<li> Web accelarators</li>
					<li> Cache backends </li>
					<li> Database SQL vs NoSQL </li>
					</ul>
					</p>
				</section>


				<section class="slide">
					<h2 style="color:lightblue"> Options for Stack</h2>
					<p>
					These open source software proved worthy in powering huge web sites like
				Instagram, Disqus.
					<ul>
					<li> Load balancers - HAProxy</li>
					<li> Web accelarators - Varnish</li>
					<li> Cache backends - Redis, Memcached</li>
					<li> Database SQL vs NoSQL - MongoDB, PostgreSQL JSON store</li>
					</ul>
					</p>
				</section>


				<section class="slide">
				<p>
				<h2 style="color:yellow">Importance of Load balancing</h2>
				With help of floating IP we can create a cluster of load balancers in front of Django application servers
					<img src="img/hadiagram.png" height="80%" width="80%"/>
				</p>
				</section>


				<section class="slide">
				<p>
				<h2 style="color:pink">Nginx Vs Varnish</h2>
					 Which is better web accelarator?
					 <img src="img/varnish.png" height="60%" width="80%"/>
				</p>
				</section>


				<section class="slide">
				<h1 style="color:aqua"> Apples are not Airplanes</h1>
				<p>
				<ul>
				<li> Databases</li>
				<h2> MongoDB vs  Postgre SQL JSON store</h2>
				<li> Datastores</li>
				<h2> Redis vs Memcached</h2>
				 </ul>
				</p>
				</section>


				<section style="text-align: left;">
					<h1>THANK YOU DELHI <i class="fa fa-heart-o fa-2x"></i></h1>
					<p>For giving me this wonderful opportunity</p>
					<p>
						- <a href="https://www.impythonist.wordpress.com" target="_blank">self.python_blog</a> <br>
						- <a href="http://www.blog.narenarya.in" target="_blank">self.personal_blog</a>
					</p>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
